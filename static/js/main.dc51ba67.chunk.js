(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,n,t){e.exports=t(33)},25:function(e,n,t){},33:function(e,n,t){"use strict";t.r(n);t(18);var r=t(0),a=t.n(r),o=t(4),i=t.n(o);t(25),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=t(5),c=t(6),u=t(8),d=t(7),l=t(9),f=t(2),m=t(3),w=t(1);function h(){var e=Object(f.a)(["\n  width: 100%;\n  height: 100%;\n\n  :focus {\n    border-left: 2px solid blue;\n  }\n"]);return h=function(){return e},e}var g=m.a.div(h()),v=function(e){function n(e){var t;Object(s.a)(this,n),(t=Object(u.a)(this,Object(d.a)(n).call(this,e))).containerRef=r.createRef(),t.rafHandle=0,t.previousTimestamp=0,t.target=null,t.scene=new w.g,t.camera=new w.e(75,1,.1,1e3),t.renderer=new w.j,t.grid=new w.b(10,10),t.cube=void 0,t.keysPressed=new Set,t.isDraggingCamera=!1,t.resize=function(){if(t.containerRef.current){var e=t.containerRef.current,n=e.offsetWidth,r=e.offsetHeight;t.camera.aspect=n/r,t.camera.updateProjectionMatrix(),t.renderer.setSize(n,r)}},t.animate=function(e){t.rafHandle=window.requestAnimationFrame(t.animate);var n=(e-t.previousTimestamp)/1e3;t.previousTimestamp=e;var r=new w.i;t.isKeyPressed("a")&&(r.x-=1),t.isKeyPressed("d")&&(r.x+=1),t.isKeyPressed("Shift")&&(r.y-=1),t.isKeyPressed(" ")&&(r.y+=1),t.isKeyPressed("w")&&(r.z-=1),t.isKeyPressed("s")&&(r.z+=1),(r.x||r.y||r.z)&&t.camera.translateOnAxis(r,2*n),t.isKeyPressed("ArrowLeft")&&t.camera.rotateOnWorldAxis(new w.i(0,1,0),n),t.isKeyPressed("ArrowRight")&&t.camera.rotateOnWorldAxis(new w.i(0,-1,0),n),t.isKeyPressed("ArrowUp")&&t.camera.rotateOnAxis(new w.i(1,0,0),n),t.isKeyPressed("ArrowDown")&&t.camera.rotateOnAxis(new w.i(-1,0,0),n),t.renderer.render(t.scene,t.camera)},t.onClick=function(e){var n=t.renderer.getSize(new w.h),r=(e.pageX-e.currentTarget.offsetLeft)/n.x*2-1,a=-(e.pageY-e.currentTarget.offsetTop)/n.y*2+1;console.log(n,r,a);var o=new w.f;o.setFromCamera({x:r,y:a},t.camera);var i=o.intersectObjects(t.scene.children,!0);t.target&&(t.target.material.color.set(16777215),t.target=null);for(var s=0;s<i.length&&!t.target;s++)i[s].object!==t.grid&&(t.target=i[s].object,console.log(t.target),t.target.material.color.set(16711680))},t.onWheel=function(e){e.preventDefault();var n=e.deltaY;0===e.deltaMode&&(n/=15),t.camera.translateZ(n)},t.onMouseDown=function(e){2===e.button&&(t.isDraggingCamera=!0,t.containerRef.current.requestPointerLock())},t.onMouseUp=function(e){2===e.button&&t.isDraggingCamera&&(document.exitPointerLock(),t.isDraggingCamera=!1)},t.onMouseMove=function(e){t.isDraggingCamera&&(e.movementX&&t.camera.rotateOnWorldAxis(new w.i(0,-1,0),e.movementX/100),e.movementY&&t.camera.rotateOnAxis(new w.i(-1,0,0),e.movementY/100))},t.onKeyDown=function(e){e.preventDefault(),t.keysPressed.add(e.key),console.log(e.key)},t.onKeyUp=function(e){e.preventDefault(),t.keysPressed.delete(e.key)};var a=new w.a(1,1,1),o=new w.d({color:16777215});t.cube=new w.c(a,o);var i=new w.a(.25,.25,.25),c=new w.d({color:16777215}),l=new w.c(i,c);return l.translateX(1),t.scene.add(l),t.scene.add(t.cube),t.scene.add(t.grid),t.camera.position.y=1,t.camera.position.z=5,t}return Object(l.a)(n,e),Object(c.a)(n,[{key:"componentDidMount",value:function(){this.containerRef.current.appendChild(this.renderer.domElement),this.containerRef.current.focus(),this.resize(),this.animate(0),window.addEventListener("resize",this.resize)}},{key:"componentWillUnmount",value:function(){window.cancelAnimationFrame(this.rafHandle),window.removeEventListener("resize",this.resize)}},{key:"isKeyPressed",value:function(e){return this.keysPressed.has(e)}},{key:"render",value:function(){return r.createElement(g,{tabIndex:-1,ref:this.containerRef,onClick:this.onClick,onWheel:this.onWheel,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseMove:this.onMouseMove,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onContextMenu:function(e){return e.preventDefault()}})}}]),n}(r.Component);function p(){var e=Object(f.a)(["\n  flex: 1;\n  height: 100%;\n"]);return p=function(){return e},e}function y(){var e=Object(f.a)(["\n  width: 250px;\n  height: 100%;\n  background: #666;\n"]);return y=function(){return e},e}function b(){var e=Object(f.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  background: #000;\n  display: flex;\n"]);return b=function(){return e},e}var k=m.a.div(b()),O=m.a.aside(y()),x=m.a.main(p()),j=function(e){function n(){return Object(s.a)(this,n),Object(u.a)(this,Object(d.a)(n).apply(this,arguments))}return Object(l.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return a.a.createElement(k,null,a.a.createElement(O,null,"Sidebar"),a.a.createElement(x,null,a.a.createElement(v,null)))}}]),n}(a.a.Component);i.a.render(a.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,2,1]]]);
//# sourceMappingURL=main.dc51ba67.chunk.js.map