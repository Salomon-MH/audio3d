(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,n,t){e.exports=t(33)},25:function(e,n,t){},33:function(e,n,t){"use strict";t.r(n);t(18);var r=t(0),a=t.n(r),o=t(4),i=t.n(o);t(25),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s,c=t(5),u=t(6),d=t(8),l=t(7),m=t(9),f=t(2),w=t(3),h=t(1);function g(){var e=Object(f.a)(["\n  width: 100%;\n  height: 100%;\n\n  :focus {\n    border-left: 2px solid blue;\n  }\n"]);return g=function(){return e},e}!function(e){e[e.Primary=0]="Primary",e[e.Middle=1]="Middle",e[e.Secondary=2]="Secondary"}(s||(s={}));var v={up:new h.i(0,1,0),down:new h.i(0,-1,0),left:new h.i(-1,0,0),right:new h.i(1,0,0),forwards:new h.i(0,0,-1),backwards:new h.i(0,0,1)},p=function(e,n,t){return new h.i(t*Math.sin(e/n*2*Math.PI),0,t*Math.cos(e/n*2*Math.PI))},y=w.a.div(g()),b=function(e){function n(e){var t;Object(c.a)(this,n),(t=Object(d.a)(this,Object(l.a)(n).call(this,e))).containerRef=r.createRef(),t.rafHandle=0,t.previousTimestamp=0,t.target=null,t.scene=new h.g,t.camera=new h.e(75,1,.1,1e3),t.renderer=new h.j,t.grid=new h.b(10,10),t.cube=void 0,t.cube2=void 0,t.keysPressed=new Set,t.isDraggingCamera=!1,t.resize=function(){if(t.containerRef.current){var e=t.containerRef.current,n=e.offsetWidth,r=e.offsetHeight;t.camera.aspect=n/r,t.camera.updateProjectionMatrix(),t.renderer.setSize(n,r)}},t.animate=function(e){t.rafHandle=window.requestAnimationFrame(t.animate);var n=(e-t.previousTimestamp)/1e3;t.previousTimestamp=e,t.cube2.rotation.x+=.01,t.cube2.rotation.y+=.01,t.cube2.position.copy(p(e,1e4,2)),t.isKeyPressed("w")&&t.camera.translateOnAxis(v.forwards,2*n),t.isKeyPressed("s")&&t.camera.translateOnAxis(v.backwards,2*n),t.isKeyPressed("a")&&t.camera.translateOnAxis(v.left,2*n),t.isKeyPressed("d")&&t.camera.translateOnAxis(v.right,2*n),t.isKeyPressed(" ")&&(t.camera.position.y+=2*n),t.isKeyPressed("Shift")&&(t.camera.position.y-=2*n),t.isKeyPressed("ArrowLeft")&&t.camera.rotateOnWorldAxis(new h.i(0,1,0),n),t.isKeyPressed("ArrowRight")&&t.camera.rotateOnWorldAxis(new h.i(0,-1,0),n),t.isKeyPressed("ArrowUp")&&t.camera.rotateOnAxis(new h.i(1,0,0),n),t.isKeyPressed("ArrowDown")&&t.camera.rotateOnAxis(new h.i(-1,0,0),n),t.renderer.render(t.scene,t.camera)},t.onClick=function(e){if(e.button===s.Primary){var n=t.renderer.getSize(new h.h),r=(e.pageX-e.currentTarget.offsetLeft)/n.x*2-1,a=-(e.pageY-e.currentTarget.offsetTop)/n.y*2+1;console.log(n,r,a);var o=new h.f;o.setFromCamera({x:r,y:a},t.camera);var i=o.intersectObjects(t.scene.children,!0);t.target&&(t.target.material.color.set(16777215),t.target=null);for(var c=0;c<i.length&&!t.target;c++)i[c].object!==t.grid&&(t.target=i[c].object,console.log(t.target),t.target.material.color.set(16711680))}},t.onWheel=function(e){e.preventDefault();var n=e.deltaY;0===e.deltaMode&&(n/=15),t.camera.translateZ(n)},t.onMouseDown=function(e){e.button===s.Secondary&&(t.isDraggingCamera=!0,t.containerRef.current.requestPointerLock())},t.onMouseUp=function(e){e.button===s.Secondary&&t.isDraggingCamera&&(document.exitPointerLock(),t.isDraggingCamera=!1)},t.onMouseMove=function(e){t.isDraggingCamera&&(e.movementX&&t.camera.rotateOnWorldAxis(new h.i(0,-1,0),e.movementX/100),e.movementY&&t.camera.rotateOnAxis(new h.i(-1,0,0),e.movementY/100))},t.onKeyDown=function(e){e.preventDefault(),t.keysPressed.add(e.key)},t.onKeyUp=function(e){e.preventDefault(),t.keysPressed.delete(e.key)};var a=new h.a(1,1,1),o=new h.d({color:16777215,wireframe:!0});t.cube=new h.c(a,o);var i=new h.a(.25,.25,.25),u=new h.d({color:16777215});return t.cube2=new h.c(i,u),t.cube2.translateX(1),t.scene.add(t.cube2),t.scene.add(t.cube),t.scene.add(t.grid),t.camera.position.y=10,t.camera.position.z=5,t.camera.lookAt(0,0,0),console.log(t.scene.toJSON()),t}return Object(m.a)(n,e),Object(u.a)(n,[{key:"componentDidMount",value:function(){this.containerRef.current.appendChild(this.renderer.domElement),this.containerRef.current.focus(),this.resize(),this.animate(0),window.addEventListener("resize",this.resize)}},{key:"componentWillUnmount",value:function(){window.cancelAnimationFrame(this.rafHandle),window.removeEventListener("resize",this.resize)}},{key:"isKeyPressed",value:function(e){return this.keysPressed.has(e)}},{key:"render",value:function(){return r.createElement(y,{tabIndex:-1,ref:this.containerRef,onClick:this.onClick,onWheel:this.onWheel,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseMove:this.onMouseMove,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onContextMenu:function(e){return e.preventDefault()}})}}]),n}(r.Component);function O(){var e=Object(f.a)(["\n  flex: 1;\n  height: 100%;\n"]);return O=function(){return e},e}function k(){var e=Object(f.a)(["\n  width: 250px;\n  height: 100%;\n  background: #666;\n"]);return k=function(){return e},e}function P(){var e=Object(f.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  background: #000;\n  display: flex;\n"]);return P=function(){return e},e}var x=w.a.div(P()),M=w.a.aside(k()),j=w.a.main(O()),A=function(e){function n(){return Object(c.a)(this,n),Object(d.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(m.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){return a.a.createElement(x,null,a.a.createElement(M,null,"Sidebar"),a.a.createElement(j,null,a.a.createElement(b,null)))}}]),n}(a.a.Component);i.a.render(a.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,2,1]]]);
//# sourceMappingURL=main.c64f69b9.chunk.js.map